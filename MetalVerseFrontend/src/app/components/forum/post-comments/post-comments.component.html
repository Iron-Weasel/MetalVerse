<div class="header">
    <img class="logo" src="../../../assets/icons/Metalverse2.png">
  </div>

  <div class="content">
    <img style="width:10%; margin: 1em 0 0 1em" src="../../../assets/icons/back-arrow.png" [routerLink]="['/forum']">
    <div class="cardPost" *ngIf="post">
      <img class="rock-on" *ngIf="idPost && !rockedOnMap[idPost]" src="../../../assets/icons/unrocked.png" (click)="increaseRockOnPost()">
      <img class="rock-on" *ngIf="idPost && rockedOnMap[idPost]" src="../../../assets/icons/rocked.png" (click)="decreaseRockOnPost()">
      <p class="username"> @{{ usernamePost }} </p>
      <h2 class="postTitle"> {{ post.title }} </h2>
      <p class="createdDate" *ngIf="post.createdDate"> {{ post.createdDate | timeDifference }} </p>
      <p class="description"> {{ post.description }} </p>
      <img class="postImage" *ngIf="post.imageURL" [src]="post.imageURL">
      <div class="postInfo">  
        <p class="views"> {{ post.views }} views</p>  
        <p class="rockOnNumbers"> {{ post.rockOns }} rock-ons </p>
        <p class="commentNumbers" *ngIf="post.comments.length == 1"> {{ post.comments.length }} comment </p>
        <p class="commentNumbers" *ngIf="post.comments.length == 0 || post.comments.length > 1"> {{ post.comments.length }} comments </p>
    </div>
    </div>
    <div class="bar">
      <p class="commentText">Comments</p>
      <textarea class="post-bar" #commentInput></textarea>
    </div>
    <img class="post-button" src="../../../assets/icons/Post button 2.png" (click)="postComment()">
      <div *ngIf="commentsObs$ | async as comments" class="commentSection">
        <div *ngFor="let comment of comments">
          <div class="cardComments">
              <img class="rock-on" *ngIf="comment.id && !rockedOnMap[comment.id]" src="../../../assets/icons/unrocked.png" (click)="increaseRockOnComments(comment.id)">
              <img class="rock-on" *ngIf="comment.id && rockedOnMap[comment.id]" src="../../../assets/icons/rocked.png" (click)="decreaseRockOnComments(comment.id)">
              <p class="username"> @{{ comment.userName }} </p>
              <div *ngIf="comment.id">
                <p class="postedDate" *ngIf="comment.postedDate"> {{ comment.postedDate | timeDifference }} </p>
              </div>
              <p class="text"> {{ comment.text }} </p>
              <p class="commRockOn"> {{ comment.rockOns }} rock-ons </p>
          </div>
        </div>
      </div>
  </div>
  
  <div class="footer">
    <div class="navbar-footer"> 
        <a class="link-text" [routerLink]="['/events']">
          <img class="events-button" src="../../../assets/icons/Future Events.png">
        </a>
        <a class="link-text" [routerLink]="['/stream']">
          <img class="streams-button" src="../../../assets/icons/Streams.png">
        </a>
        <a class="link-text" [routerLink]="['/inbox']">
          <img class="inbox-button" src="../../../assets/icons/Inbox.png">
        </a>
        <a class="link-text" [routerLink]="['/forum']">
          <img class="forum-button" src="../../../assets/icons/Forum.png">
        </a>
        <a class="link-text" [routerLink]="['/announcements']">
          <img class="announcements-button" src="../../../assets/icons/Announcements.png">
        </a>
    </div>
</div>
